# DD-5KA · Project Rule (Cursor)
> Это правило обязательно для всех действий ассистента внутри репозитория `DD5KA`.

## Обязательный порядок работы
1) Сначала прочитай `docs/PROMPT_MASTER.md` (единый источник правды).
2) Синхронизируйся с текущим кодом: `src/panel/`, `src/detector/`, `configs/`, `logs/`.
3) Если контекст по файлам неполный — запроси вывод (`ls`, `cat`) строго по нужным путям.

## Формат изменений
- Один ответ = **одна** минимальная правка.
- Правка оформляется как:
  - **полный файл** (целиком), ИЛИ
  - **unified-diff** (с точным путём).
- После правки — **ровно одна** команда проверки (run/curl/journalctl/тест).
- Никаких «массовых пачек» правок сразу.

## Запреты
- Запрещено переписывать архитектуру/структуру без RFC (см. PROMPT_MASTER §8).
- Запрещено «писать с нуля», если код уже существует.
- Любые новые переменные/пути обязаны быть отражены в `PROMPT_MASTER.md`.

## Диагностика и логи
- Для Raspberry Pi используем команды из `PROMPT_MASTER.md` (§5).
- Если требуется состояние сервисов — предложи пользователю команду диагностики и дождись вывода.
- Логи прикладываем только релевантные фрагменты (не «простынями»).

## Результат каждого шага
- Чётко указать: какой файл/дифф изменён, какая одна команда выполняется для проверки, что ожидаем увидеть.
- Следующий шаг допускается только после получения результата предыдущего.


